services:
  - type: worker
    name: binance-bot
    env: python
    buildCommand: |
      apt-get update
      apt-get install -y wget unzip
      wget https://github.com/cloudflare/boringtun/releases/download/0.4.0/boringtun-linux-x86_64.zip -O bt.zip
      unzip bt.zip
      mv boringtun /usr/local/bin/
      pip install -r requirements.txt
    startCommand: |
      export WG_QUICK_USERSPACE_IMPLEMENTATION=boringtun
      cp wg0.conf /tmp/wg0.conf
      cp wg-quick /usr/local/bin/wg-quick
      chmod +x /usr/local/bin/wg-quick
      wg-quick up wg0
      echo "VPN connected. Checking IP..."
      curl https://ifconfig.me
      python ultra_precision_realtime_bot_render.py

